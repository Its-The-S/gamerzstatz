(this.webpackJsonpgamerzstatz=this.webpackJsonpgamerzstatz||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(66),s=a.n(c),i=(a(78),a(17)),l=a(31),o=a(13),j=a(26),d=a.n(j),b=a(1),m=a(81),u=r.a.createContext(),h=function(){return Object(n.useContext)(u)},O=function(e){var t=e.children,a=Object(n.useState)({name:"InitialName",gamertag:"InitialTag",xuid:"12345",email:"",password:""}),r=Object(o.a)(a,2),c=r[0],s=(r[1],function(){var e=Object(l.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/api/account/".concat(t));case 3:a=e.sent,console.log(a),console.log("made it into the context fetch"),n={name:"InitialName",gamertag:t,xuid:"12345",email:"",password:""},localStorage.setItem("user",JSON.stringify(n)),console.log(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}());return Object(b.jsx)(u.Provider,{value:{currentUser:c,fetchUserAccount:s},children:t})},x=a(19),g=a(7),p=a(70),f=a(117),v=a(119),w=a(116),N=a(68),y=a.p+"static/media/Minecraft_cover.c3ecdd3b.png";function k(){var e="Minecraft",t="Create your own world";return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"card",style:{width:"18rem",border:"solid grey 5px",padding:"15px"},children:[Object(b.jsx)("h5",{className:"card-title",children:e}),Object(b.jsx)("img",{className:"card-img-top",src:y,alt:"Card cap"}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("p",{className:"card-text",children:t}),Object(b.jsx)("button",{href:"#",className:"btn btn-primary",children:"Check my Stats"})]})]})})}var S=function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(k,{})})};var C,I,$,F=function(e){var t=e.children;return Object(b.jsx)("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"},children:t})},z=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(F,{children:[Object(b.jsx)("h1",{children:"404 Page Not Found"}),Object(b.jsx)("h1",{children:Object(b.jsx)("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji",children:"\ud83d\ude44"})})]})})},E=a(12),L=a(120),T=a(43),A=a(118),D=Object(A.a)(C||(C=Object(T.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n            token\n            user {\n                _id\n                firstName\n                lastName\n                gamertag\n                email\n            }\n        }\n    }\n"]))),U=(Object(A.a)(I||(I=Object(T.a)(["\n    mutation addOrder($products: [ID]!) {\n        addOrder(products: $products) {\n            purchaseDate\n            products {\n                _id\n                name\n                description\n                price\n                quantity\n                category {\n                    name\n                }\n            }\n        }\n    }\n"]))),Object(A.a)($||($=Object(T.a)(["\n    mutation Mutation($firstName: String!, $lastName: String!, $gamertag: String!, $email: String!, $password: String!) {\n        addUser(firstName: $firstName, lastName: $lastName, gamertag: $gamertag, email: $email, password: $password) {\n            token\n            user {\n                firstName\n                lastName\n                gamertag\n                email\n            }\n        }\n    }\n"])))),_=a(5),B=a(6),P=a(47),G=a.n(P),J=new(function(){function e(){Object(_.a)(this,e)}return Object(B.a)(e,[{key:"getProfile",value:function(){return G()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return G()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/profile")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}());var M=function(e){var t=h(),a=t.currentUser,r=t.fetchUserAccount,c=Object(n.useState)({email:"",password:""}),s=Object(o.a)(c,2),j=s[0],m=s[1],u=Object(L.a)(D),O=Object(o.a)(u,2),g=O[0],p=O[1].error,f=function(){var e=Object(l.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g({variables:{email:j.email,password:j.password}});case 4:return a=e.sent,n=a.data.login.token,e.next=8,r(a.data.login.user.gamertag);case 8:J.login(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.target,a=t.name,n=t.value;m(Object(i.a)(Object(i.a)({},j),{},Object(E.a)({},a,n)))};return Object(b.jsxs)("div",{className:"container my-1",children:[Object(b.jsx)(x.b,{to:"/signup",children:"\u2190 Go to Signup"}),0!==a.length?Object(b.jsxs)("h2",{children:["Hello, ",a.gamertag]}):Object(b.jsx)("h2",{children:"Loading"}),Object(b.jsx)("h2",{children:"Login"}),Object(b.jsxs)("form",{onSubmit:f,children:[Object(b.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(b.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:v})]}),Object(b.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(b.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(b.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:v})]}),p?Object(b.jsx)("div",{children:Object(b.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(b.jsx)("div",{className:"flex-row flex-end",children:Object(b.jsx)("button",{type:"submit",children:"Submit"})})]})]})};var H=function(e){var t=Object(n.useState)({email:"",password:"",firstName:"",lastName:"",gamertag:""}),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(L.a)(U),j=Object(o.a)(s,1)[0],m=function(){var e=Object(l.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j({variables:{email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName,gamertag:r.gamertag}});case 3:a=e.sent,n=a.data.addUser.token,console.log(a),J.login(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,a=t.name,n=t.value;c(Object(i.a)(Object(i.a)({},r),{},Object(E.a)({},a,n)))};return Object(b.jsxs)("div",{className:"container my-1",children:[Object(b.jsx)(x.b,{to:"/login",children:"\u2190 Go to Login"}),Object(b.jsx)("h2",{children:"Signup"}),Object(b.jsxs)("form",{onSubmit:m,children:[Object(b.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(b.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(b.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:u})]}),Object(b.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(b.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(b.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:u})]}),Object(b.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(b.jsx)("label",{htmlFor:"gamertag",children:"Gamertag:"}),Object(b.jsx)("input",{placeholder:"tag",name:"gamertag",type:"gamertag",id:"gamertag",onChange:u})]}),Object(b.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(b.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:u})]}),Object(b.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(b.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(b.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:u})]}),Object(b.jsx)("div",{className:"flex-row flex-end",children:Object(b.jsx)("button",{type:"submit",children:"Submit"})})]})]})},W=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));r(e)}),[]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("h2",{children:["Hello, ",a.gamertag]}),Object(b.jsx)(k,{})]})};var q=function(){return Object(b.jsx)("header",{children:Object(b.jsx)("nav",{children:J.loggedIn()?Object(b.jsxs)("section",{className:"top-nav",children:[Object(b.jsx)("h1",{children:Object(b.jsxs)(x.b,{to:"/",children:[Object(b.jsx)("span",{role:"img","aria-label":"controller ",children:"\ud83c\udfae"}),"Gamerz Statz"]})}),Object(b.jsx)("input",{id:"menu-toggle",type:"checkbox"}),Object(b.jsx)("label",{className:"menu-button-container",htmlFor:"menu-toggle",children:Object(b.jsx)("div",{className:"menu-button"})}),Object(b.jsxs)("ul",{className:"menu",children:[Object(b.jsx)("li",{children:Object(b.jsx)(x.b,{to:"/orderHistory",children:"Order History"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"/",onClick:function(){return J.logout()},children:"Logout"})})]})]}):Object(b.jsxs)("section",{className:"top-nav",children:[Object(b.jsx)("h1",{children:Object(b.jsxs)(x.b,{to:"/",children:[Object(b.jsx)("span",{role:"img","aria-label":"controller ",children:"\ud83c\udfae"}),"Gamerz Statz"]})}),Object(b.jsx)("input",{id:"menu-toggle",type:"checkbox"}),Object(b.jsx)("label",{className:"menu-button-container",htmlFor:"menu-toggle",children:Object(b.jsx)("div",{className:"menu-button"})}),Object(b.jsxs)("ul",{className:"menu",children:[Object(b.jsx)("li",{children:Object(b.jsx)(x.b,{to:"/signup",children:"Signup"})}),Object(b.jsx)("li",{children:Object(b.jsx)(x.b,{to:"/login",children:"Login"})})]})]})})})},R=a(14),K=a(71);function Q(){var e=h().currentUser;R.e.register(R.d,R.i,R.b,R.n,R.o,R.g);var t={scales:{x:{grid:{color:"white",lineWidth:.5},ticks:{color:"white",font:{weight:"normal"}}},y:{grid:{color:"white",lineWidth:.5},ticks:{color:"white",font:{weight:"normal"}}}},responsive:!0,plugins:{legend:{position:"top",labels:{color:"white",font:{weight:"normal"}}},title:{display:!0,text:"".concat(e.gamertag," vs Itali4NStali0nz: MLB The Show: Call of Duty Edition"),color:"white",font:{weight:"normal"}}}},a={labels:["Wins","Loses","Kills","RBIs"],datasets:[{label:e.gamertag,data:[10,24,9,37],backgroundColor:"#AAB1AE"},{label:"Itali4NStali0nz",data:[5,43,19,87],backgroundColor:"#DB1A20"}]};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(K.a,{options:t,data:a})})}function V(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(Q,{})})}var X=a.p+"static/media/linkedinpsfix.2404a02b.png";function Y(){return Object(b.jsx)("div",{children:Object(b.jsx)("footer",{className:"footer",children:Object(b.jsxs)("div",{className:"footer-card",children:[Object(b.jsx)("p",{children:"Joe Pa"}),Object(b.jsx)("img",{className:"w-xsm",src:X})]})})})}var Z=Object(p.a)({uri:"/graphql"}),ee=Object(N.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),te=new f.a({link:ee.concat(Z),cache:new v.a});var ae=function(){return Object(b.jsx)(w.a,{client:te,children:Object(b.jsx)(O,{children:Object(b.jsx)(x.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(q,{}),Object(b.jsxs)(g.c,{children:[Object(b.jsx)(g.a,{path:"/",element:Object(b.jsx)(S,{})}),Object(b.jsx)(g.a,{path:"/login",element:Object(b.jsx)(M,{})}),Object(b.jsx)(g.a,{path:"/signup",element:Object(b.jsx)(H,{})}),Object(b.jsx)(g.a,{path:"/profile",element:Object(b.jsx)(W,{})}),Object(b.jsx)(g.a,{path:"*",element:Object(b.jsx)(z,{})}),Object(b.jsx)(g.a,{path:"/chart",element:Object(b.jsx)(V,{})})]}),Object(b.jsx)(Y,{})]})})})})};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(ae,{})}),document.getElementById("root"))},78:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.9739b2dc.chunk.js.map
(this.webpackJsonpgamerzstatz=this.webpackJsonpgamerzstatz||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),s=a(67),c=a.n(s),i=(a(79),a(17)),l=a(13),o=a(1),d=r.a.createContext(),j=function(e){var t=e.children,a=Object(n.useState)({name:"InitialName",gamertag:"InitialTag",xuid:"12345",email:"",password:""}),r=Object(l.a)(a,2),s=r[0];r[1];return Object(o.jsx)(d.Provider,{value:{currentUser:s},children:t})},m=a(23),b=a(7),u=a(71),g=a(117),h=a(119),O=a(116),x=a(69),p=a.p+"static/media/Minecraft_cover.c3ecdd3b.png";function f(){var e="Minecraft",t="Create your own world";return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"card",style:{width:"18rem",border:"solid grey 5px",padding:"15px"},children:[Object(o.jsx)("h5",{className:"card-title",children:e}),Object(o.jsx)("img",{className:"card-img-top",src:p,alt:"Card cap"}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("p",{className:"card-text",children:t}),Object(o.jsx)("button",{href:"#",className:"btn btn-primary",children:"Check my Stats"})]})]})})}var v=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(f,{})})};var N,w,y,S=function(e){var t=e.children;return Object(o.jsx)("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"},children:t})},k=function(){return Object(o.jsx)("div",{children:Object(o.jsxs)(S,{children:[Object(o.jsx)("h1",{children:"404 Page Not Found"}),Object(o.jsx)("h1",{children:Object(o.jsx)("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji",children:"\ud83d\ude44"})})]})})},I=a(12),C=a(39),U=a(31),$=a.n(U),F=a(120),z=a(43),E=a(118),T=Object(E.a)(N||(N=Object(z.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n            token\n            user {\n                _id\n                firstName\n                lastName\n                gamertag\n                email\n            }\n        }\n    }\n"]))),L=(Object(E.a)(w||(w=Object(z.a)(["\n    mutation addOrder($products: [ID]!) {\n        addOrder(products: $products) {\n            purchaseDate\n            products {\n                _id\n                name\n                description\n                price\n                quantity\n                category {\n                    name\n                }\n            }\n        }\n    }\n"]))),Object(E.a)(y||(y=Object(z.a)(["\n    mutation addUser($firstName: String!, $lastName: String!, $gamertag: String!, $email: String!, $password: String!) {\n        addUser(firstName: $firstName, lastName: $lastName, gamertag: $gamertag, email: $email, password: $password) {\n            token\n            user {\n                firstName\n                lastName\n                gamertag\n                email\n            }\n        }\n    }\n"])))),A=a(5),D=a(6),J=a(47),_=a.n(J),B=new(function(){function e(){Object(A.a)(this,e)}return Object(D.a)(e,[{key:"getProfile",value:function(){return _()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return _()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/profile")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),P=a(56);var G=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(l.a)(t,2),r=a[0],s=a[1],c=Object(F.a)(T),d=Object(l.a)(c,2),j=d[0],b=d[1].error,u=function(){var e=Object(C.a)($.a.mark((function e(t){var a,n,s,c,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j({variables:{email:r.email,password:r.password}});case 4:return a=e.sent,n=a.data.login.token,e.next=8,P.get("/api/account/".concat(a.data.login.user.gamertag));case 8:return s=e.sent,c={name:"".concat(a.data.login.user.firstName," ").concat(a.data.login.user.lastName),gamertag:a.data.login.user.gamertag,email:a.data.login.user.email,xuid:s.data.profileUsers[0].id,avatar:s.data.profileUsers[0].settings[0].value,gamerscore:s.data.profileUsers[0].settings[1].value},localStorage.setItem("user",JSON.stringify(c)),e.next=13,P.get("/api/account/allAchievements");case 13:i=e.sent,console.log(i.data),localStorage.setItem("allAchievements",JSON.stringify(i.data)),B.login(n),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.target,a=t.name,n=t.value;s(Object(i.a)(Object(i.a)({},r),{},Object(I.a)({},a,n)))};return Object(o.jsxs)("div",{className:"container my-1",children:[Object(o.jsx)(m.b,{to:"/signup",children:"\u2190 Go to Signup"}),Object(o.jsx)("h2",{children:"Login"}),Object(o.jsxs)("form",{onSubmit:u,children:[Object(o.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(o.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(o.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:g})]}),Object(o.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(o.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(o.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:g})]}),b?Object(o.jsx)("div",{children:Object(o.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(o.jsx)("div",{className:"flex-row flex-end",children:Object(o.jsx)("button",{type:"submit",children:"Submit"})})]})]})},M=a(56);var W=function(e){var t=Object(n.useState)({email:"",password:"",firstName:"",lastName:"",gamertag:""}),a=Object(l.a)(t,2),r=a[0],s=a[1],c=Object(F.a)(L),d=Object(l.a)(c,1)[0],j=function(){var e=Object(C.a)($.a.mark((function e(t){var a,n,s,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d({variables:{email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName,gamertag:r.gamertag}});case 3:return a=e.sent,n=a.data.addUser.token,e.next=7,M.get("/api/account/".concat(a.data.addUser.user.gamertag));case 7:s=e.sent,c={name:"".concat(a.data.addUser.user.firstName," ").concat(a.data.addUser.user.lastName),gamertag:a.data.addUser.user.gamertag,email:a.data.addUser.user.email,xuid:s.data.profileUsers[0].id,avatar:s.data.profileUsers[0].settings[0].value,gamerscore:s.data.profileUsers[0].settings[1].value},localStorage.setItem("user",JSON.stringify(c)),console.log(a),B.login(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,a=t.name,n=t.value;s(Object(i.a)(Object(i.a)({},r),{},Object(I.a)({},a,n)))};return Object(o.jsxs)("div",{className:"container my-1",children:[Object(o.jsx)(m.b,{to:"/login",children:"\u2190 Go to Login"}),Object(o.jsx)("h2",{children:"Signup"}),Object(o.jsxs)("form",{onSubmit:j,children:[Object(o.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(o.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(o.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:b})]}),Object(o.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(o.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(o.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:b})]}),Object(o.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(o.jsx)("label",{htmlFor:"gamertag",children:"Gamertag:"}),Object(o.jsx)("input",{placeholder:"tag",name:"gamertag",type:"gamertag",id:"gamertag",onChange:b})]}),Object(o.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(o.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(o.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:b})]}),Object(o.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(o.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(o.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:b})]}),Object(o.jsx)("div",{className:"flex-row flex-end",children:Object(o.jsx)("button",{type:"submit",children:"Submit"})})]})]})},q=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));r(e)}),[]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("h2",{children:["Hello, ",a.gamertag]}),Object(o.jsx)(f,{})]})};var R=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("nav",{children:B.loggedIn()?Object(o.jsxs)("section",{className:"top-nav",children:[Object(o.jsx)("h1",{children:Object(o.jsxs)(m.b,{to:"/",children:[Object(o.jsx)("span",{role:"img","aria-label":"controller ",children:"\ud83c\udfae"}),"Gamerz Statz"]})}),Object(o.jsx)("input",{id:"menu-toggle",type:"checkbox"}),Object(o.jsx)("label",{className:"menu-button-container",htmlFor:"menu-toggle",children:Object(o.jsx)("div",{className:"menu-button"})}),Object(o.jsx)("ul",{className:"menu",children:Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"/",onClick:function(){return B.logout()},children:"Logout"})})})]}):Object(o.jsxs)("section",{className:"top-nav",children:[Object(o.jsx)("h1",{children:Object(o.jsxs)(m.b,{to:"/",children:[Object(o.jsx)("span",{role:"img","aria-label":"controller ",children:"\ud83c\udfae"}),"Gamerz Statz"]})}),Object(o.jsx)("input",{id:"menu-toggle",type:"checkbox"}),Object(o.jsx)("label",{className:"menu-button-container",htmlFor:"menu-toggle",children:Object(o.jsx)("div",{className:"menu-button"})}),Object(o.jsxs)("ul",{className:"menu",children:[Object(o.jsx)("li",{children:Object(o.jsx)(m.b,{to:"/signup",children:"Signup"})}),Object(o.jsx)("li",{children:Object(o.jsx)(m.b,{to:"/login",children:"Login"})})]})]})})})},H=a(14),K=a(72);function Q(){var e=Object(n.useContext)(d).currentUser;H.e.register(H.d,H.i,H.b,H.n,H.o,H.g);var t={scales:{x:{grid:{color:"white",lineWidth:.5},ticks:{color:"white",font:{weight:"normal"}}},y:{grid:{color:"white",lineWidth:.5},ticks:{color:"white",font:{weight:"normal"}}}},responsive:!0,plugins:{legend:{position:"top",labels:{color:"white",font:{weight:"normal"}}},title:{display:!0,text:"".concat(e.gamertag," vs Itali4NStali0nz: MLB The Show: Call of Duty Edition"),color:"white",font:{weight:"normal"}}}},a={labels:["Wins","Loses","Kills","RBIs"],datasets:[{label:e.gamertag,data:[10,24,9,37],backgroundColor:"#AAB1AE"},{label:"Itali4NStali0nz",data:[5,43,19,87],backgroundColor:"#DB1A20"}]};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(K.a,{options:t,data:a})})}function V(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(Q,{})})}var X=a.p+"static/media/linkedinpsfix.2404a02b.png";function Y(){return Object(o.jsx)("div",{children:Object(o.jsx)("footer",{className:"footer",children:Object(o.jsxs)("div",{className:"footer-card",children:[Object(o.jsx)("p",{children:"Joe Pa"}),Object(o.jsx)("img",{className:"w-xsm",src:X})]})})})}var Z=Object(u.a)({uri:"/graphql"}),ee=Object(x.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),te=new g.a({link:ee.concat(Z),cache:new h.a});var ae=function(){return Object(o.jsx)(O.a,{client:te,children:Object(o.jsx)(j,{children:Object(o.jsx)(m.a,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)(R,{}),Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{path:"/",element:Object(o.jsx)(v,{})}),Object(o.jsx)(b.a,{path:"/login",element:Object(o.jsx)(G,{})}),Object(o.jsx)(b.a,{path:"/signup",element:Object(o.jsx)(W,{})}),Object(o.jsx)(b.a,{path:"/profile",element:Object(o.jsx)(q,{})}),Object(o.jsx)(b.a,{path:"*",element:Object(o.jsx)(k,{})}),Object(o.jsx)(b.a,{path:"/chart",element:Object(o.jsx)(V,{})})]}),Object(o.jsx)(Y,{})]})})})})};c.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(ae,{})}),document.getElementById("root"))},79:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.605968b4.chunk.js.map